---
title: 碰撞问题
---

## 低速物体

直接算出下一帧的位置，看一下是否有重叠

## 高速物体

可以采取类似低速物体的方法，高速物体运动过程中，在碰撞检测时，把时间间隔再次拆
分成多个小时间间隔，依次模拟运动过程。

### 高速子弹穿墙问题
墙（固定的物体）可以抽象成一条直线，子弹（运动的物体）抽象一个点，子弹在时间 $dt$ 内运动形成了一个固定起点的向量，计算向量和直线相交与否，便可以决定是否发生碰撞。更进一步，如果发生碰撞可以计算出子弹经过 $dt$ 时间后，经由碰撞之后新的位置。并且能够计算出碰撞后的速度向量
TODO 完善计算过程

### 两颗高速子弹碰撞问题

子弹A的起始点为 $\vec P_a$，速度为 $\vec V_a$，经过 $t$ 时间后的坐标随时间的函数为

$$ \vec{P_1}(t) = \vec{P_a} + \vec{V_a} * t $$

同理子弹B起始点为 $\vec P_b$，速度为 $\vec V_b$ 则函数为

$$ \vec{P_2}(t) = \vec{P_b} + \vec{V_b} * t $$

二则如果在 $dt$ 时间内发生的碰撞，那么上述联立两函数得到的方程

$$ 0 = P_a - P_b + (V_a - V_b) * t $$

能有解 $t$，且满足 $t \le dt$.
如果发生碰撞并且解得 $t$，进而求出碰撞点和二者碰撞后的速度向量，再次计算二者经过 $dt - t$ 时间后的坐标，即为碰撞后的位置

### 多物体高速运动碰撞问题
大体思想如下：求出所有物体间最近的一次碰撞需要经过 $t_1$ 时间，对碰撞的物体计算
出碰撞点和碰撞之后的速度，并对余下所有物体计算出经过 $t_1$ 时间后的坐标，按此迭
代，最终 $dt$ 趋于 0，或者不会发生碰撞。
这个方法但是有些问题：
1. 果碰撞发生在很短的时间间隔内，也就是 $t_1$ 很小，那么由
于计算机浮点数精度问题，会导致其他物体也许在 $t_1$ 时间内没有发生移动。
2. 所有物体两两检测的时候需要考虑一个较好的方法。
